<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/utils/definitions.js | consent-string</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Encode and decode web-safe base64 consent information with the IAB EU&apos;s GDPR Transparency and Consent Framework"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="consent-string"><meta property="twitter:description" content="Encode and decode web-safe base64 consent information with the IAB EU&apos;s GDPR Transparency and Consent Framework"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/consent-string.js~ConsentString.html">ConsentString</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/utils/definitions.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">const NUM_BITS_VERSION = 6;

/**
 * Definition of the consent string encoded format
 *
 * From https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/Draft_for_Public_Comment_Transparency%20%26%20Consent%20Framework%20-%20cookie%20and%20vendor%20list%20format%20specification%20v1.0a.pdf
 */
const vendorVersionMap = {
  /**
   * Version 1
   */
  1: {
    version: 1,
    fields: [
      { name: &apos;version&apos;, type: &apos;int&apos;, numBits: 6 },
      { name: &apos;created&apos;, type: &apos;date&apos;, numBits: 36 },
      { name: &apos;lastUpdated&apos;, type: &apos;date&apos;, numBits: 36 },
      { name: &apos;cmpId&apos;, type: &apos;int&apos;, numBits: 12 },
      { name: &apos;cmpVersion&apos;, type: &apos;int&apos;, numBits: 12 },
      { name: &apos;consentScreen&apos;, type: &apos;int&apos;, numBits: 6 },
      { name: &apos;consentLanguage&apos;, type: &apos;language&apos;, numBits: 12 },
      { name: &apos;vendorListVersion&apos;, type: &apos;int&apos;, numBits: 12 },
      { name: &apos;purposeIdBitString&apos;, type: &apos;bits&apos;, numBits: 24 },
      { name: &apos;maxVendorId&apos;, type: &apos;int&apos;, numBits: 16 },
      { name: &apos;isRange&apos;, type: &apos;bool&apos;, numBits: 1 },
      {
        name: &apos;vendorIdBitString&apos;,
        type: &apos;bits&apos;,
        numBits: decodedObject =&gt; decodedObject.maxVendorId,
        validator: decodedObject =&gt; !decodedObject.isRange,
      },
      {
        name: &apos;defaultConsent&apos;,
        type: &apos;bool&apos;,
        numBits: 1,
        validator: decodedObject =&gt; decodedObject.isRange,
      },
      {
        name: &apos;numEntries&apos;,
        numBits: 12,
        type: &apos;int&apos;,
        validator: decodedObject =&gt; decodedObject.isRange,
      },
      {
        name: &apos;vendorRangeList&apos;,
        type: &apos;list&apos;,
        listCount: decodedObject =&gt; decodedObject.numEntries,
        validator: decodedObject =&gt; decodedObject.isRange,
        fields: [
          {
            name: &apos;isRange&apos;,
            type: &apos;bool&apos;,
            numBits: 1,
          },
          {
            name: &apos;startVendorId&apos;,
            type: &apos;int&apos;,
            numBits: 16,
          },
          {
            name: &apos;endVendorId&apos;,
            type: &apos;int&apos;,
            numBits: 16,
            validator: decodedObject =&gt; decodedObject.isRange,
          },
        ],
      },
    ],
  },
};

module.exports = {
  NUM_BITS_VERSION,
  vendorVersionMap,
};
</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.0.4)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
